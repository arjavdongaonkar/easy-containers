version: "3.9"

services:
  rabbitmq:
    image: rabbitmq:${RABBITMQ_TAG:-3.13}-management
    env_file:
      - .env
    ports:
      - "${RABBITMQ_PORT:-5672}:5672"
      - "${RABBITMQ_UI_PORT:-15672}:15672"
    healthcheck:
      test: ["CMD-SHELL", "rabbitmq-diagnostics -q ping"]
      interval: 10s
      timeout: 5s
      retries: 5

